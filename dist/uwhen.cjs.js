"use strict";const c=new Set,o=new Map,d=new window.MutationObserver(u=>{for(const e of u)if(e.type==="attributes"){const{target:n,attributeName:t,oldValue:i}=e;if(o.has(n)){let[r,s]=o.get(n);if(s.includes(t)||s.length==0){const a=n.getAttribute(t);r(t,i,a,n)}}}c.forEach(e=>e())});d.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0});function b(u,e){setTimeout(n),c.add(n);function n(){document.querySelectorAll(u).forEach(t=>{if(!o.has(t)){const{connected:i=()=>{},disconnected:r=()=>{},attributeChanged:s=()=>{},observedAttributes:a=[]}=e(t);o.set(t,[s,a]),i(),l(u,t,()=>r())}})}}function l(u,e,n){setTimeout(t),c.add(t);function t(){e&&document.contains(e)&&e.matches(u)||(o.delete(e),c.delete(t),n())}}module.exports=b;

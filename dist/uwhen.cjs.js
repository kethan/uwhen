"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=new Set,o=new Map,d=new window.MutationObserver(u=>{for(const t of u)if(t.type==="attributes"){const{target:n,attributeName:e,oldValue:s}=t;if(o.has(n)){let[c,i]=o.get(n);if(i.includes(e)||i.length==0){const a=n.getAttribute(e);c(e,s,a,n)}}}r.forEach(t=>t())});d.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0});function l(u,t){setTimeout(n),r.add(n);function n(){document.querySelectorAll(u).forEach(e=>{if(!o.has(e)){const{connected:s=()=>{},disconnected:c=()=>{},attributeChanged:i=()=>{},observedAttributes:a=[]}=t(e);o.set(e,[i,a]),s(),b(u,e,()=>{o.delete(e),c()})}})}}function b(u,t,n){setTimeout(e),r.add(e);function e(){t&&document.contains(t)&&t.matches(u)||(o.delete(t),r.delete(e),n())}}exports.when=l;

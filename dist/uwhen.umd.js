(function(u,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(u=typeof globalThis!="undefined"?globalThis:u||self,o(u.uwhen={}))})(this,function(u){"use strict";const o=new Set,i=new Map;new window.MutationObserver(s=>{for(const t of s)if(t.type==="attributes"){const{target:n,attributeName:e,oldValue:r}=t;if(i.has(n)){let[c,d]=i.get(n);if(d.includes(e)||d.length==0){const a=n.getAttribute(e);c(e,r,a,n)}}}o.forEach(t=>t())}).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0});function f(s,t){setTimeout(n),o.add(n);function n(){document.querySelectorAll(s).forEach(e=>{if(!i.has(e)){const{connected:r=()=>{},disconnected:c=()=>{},attributeChanged:d=()=>{},observedAttributes:a=[]}=t(e);i.set(e,[d,a]),r(),l(s,e,()=>{i.delete(e),c()})}})}}function l(s,t,n){setTimeout(e),o.add(e);function e(){t&&document.contains(t)&&t.matches(s)||(i.delete(t),o.delete(e),n())}}u.when=f,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
